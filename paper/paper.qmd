---
title: "Determinants of Wage Variation in Canada"
subtitle: "Older Workers, Men, and Higher Education Earn Higher Average Hourly Wages"
author: 
  - Yuanyi (Leo) Liu
thanks: "Code and data are available at: [Determinants of Wage Variation in Canada](https://github.com/leoyliu/Determinants-of-Wage-Variation-in-Canada)."
date: today
date-format: long
abstract: "This paper examines wage disparities in Canada by analyzing the effects of education, gender, and age on average hourly earnings. The findings indicate that older workers consistently earn higher wages, men earn more than women across all groups, and higher levels of education are strongly associated with increased wages. These patterns highlight systemic differences in earnings tied to demographic and educational factors. Understanding these disparities provides important context for policymakers aiming to address wage inequality and improve economic outcomes."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(dplyr)
library(here)
library(ggplot2)
library(kableExtra)
library(modelsummary)
library(rstanarm)
```


# Introduction {#sec-intro}

Wages are a fundamental component of economic well-being, influencing individual livelihoods, workforce productivity, and broader societal equity. Understanding the factors that shape earnings is essential for addressing wage inequality and improving economic opportunities. In Canada, wage disparities persist across demographic and educational groups, raising important questions about the relationship between age, gender, and education and their roles in determining hourly wages.

This paper analyzes how average hourly wages in Canada vary based on three key factors: age, gender, and education level. Using data spanning two decades, we employ a linear regression model to quantify the relationships between these factors and earnings. The analysis examines whether older workers earn higher wages, how gender influences pay, and the extent to which education impacts earnings. These questions are important in the ongoing concerns about income inequality and the need for policies that promote equitable pay structures. While previous studies have documented broad patterns of wage inequality, this paper offers a focused examination of specific demographic and educational factors, providing a deeper understanding of their combined effects.

In this study, our estimand is the average hourly wage rate in Canada. The object of the estimation is the average hourly wage rate across different demographic and educational groups based on the data. By modeling these relationships, the study quantifies the extent to which these factors contribute to observed wage disparities, providing a detailed understanding of their relative influence within the Canadian labor market.

The findings demonstrate that wages increase with age, particularly for workers over 55, while men consistently earn more than women across all groups. Higher levels of education are strongly associated with higher wages, with university graduates earning substantially more than those with lower educational attainment. These results highlight persistent disparities that reflect both structural and systemic influences on earnings. By examining these relationships, this paper provides a basis for understanding wage inequality in Canada and informs discussions about potential policy interventions.

The structure of the paper is organized as follows: following @sec-intro, @sec-data presents the data collection and cleaning process, along with an overview of the variables used in the analysis. @sec-model explains the chosen model and why it is appropriate for modeling average hourly wages. Then, @sec-result provides the results, highlighting key trends and predictions. Eventually, @sec-discussion concludes with a discussion of the findings, addressing wage disparities, potential strategies to improve equity in Canadian earnings, and the limitations of the model used.


# Data {#sec-data}

## Overview

We use the statistical programming language R [@citeR] to process and analyze data on average hourly wages in Canada. The dataset [@citedata], published on January 11, 2020, covers data from January 1, 1997, to December 31, 2019, but for this analysis, we focus on data from 2000 onwards to ensure relevance to recent labor market trends. The dataset is maintained annually and provides detailed information on wages, demographics, and employment characteristics, making it well-suited for studying wage disparities in Canada. Following methodologies discussed in "Telling Stories with Data" [@tellingstories], we analyze wage patterns by aggregating data across multiple demographic groups to ensure a balanced and unbiased representation of wage disparities. For key operations, please refer to [Appendix -@sec-data-cleaning].

The dataset includes variables such as age groups (15+, 25+, 25-34, 25-54, and 25-64), types of work (full-time and part-time), educational levels (e.g., 0-8 years, high school graduate, post-secondary certificate diploma, university degree), and immigration statuses (e.g., very recent immigrants, recent immigrants, established immigrants, non-landed immigrants, and Canadian-born individuals). Wages are provided as both average weekly and average hourly rates. For this analysis, we focus on the age groups "15-24 years", "25-54 years", and "55 years and over", the combined category of full- and part-time workers, and specific education levels, such as high school graduate, post-secondary certificate diploma, and university degree.

This filtering excludes ambiguous or aggregate categories such as "some high school," "some post-secondary," and "total landed immigrants" to ensure a clear and interpretable dataset. This filtering allows us to analyze relationships between wages and specific demographic factors while maintaining focus on education, gender, and age. Alternative datasets, such as those focusing on industry-specific wage trends or detailed time-series data, were not used because they do not provide the necessary demographic granularity. This dataset is uniquely positioned to address our research questions by capturing a broad view of wage disparities in Canada.

## Measurement

Wage data is a measurement of economic outcomes based on information collected through the Labour Force Survey Special Tabulations conducted by Statistics Canada. Respondents' demographic information, including age, gender, education level, and employment type, is reported through standardized surveys administered to a representative sample of the Canadian workforce. Wage data, including both hourly and weekly rates, are derived from employer records and worker-reported earnings, ensuring broad coverage across different industries and occupations. More details on survey methodologies can be found in the [Labour Force Survey Special Tabulations](http://www5.statcan.gc.ca/cansim/a26?lang=eng&retrLang=eng&id=2820004&tabMode=dataTable&p1=-1&p2=9&srchLan=-1).

Each row in the dataset represents an aggregated statistic for a specific combination of age group, education level, gender, and type of work. For example, the average hourly wage rate for "25-54 years" old male workers with a "university degree" is calculated by pooling the wages of individuals who fit this description, smoothing out individual variations to provide a general trend for this subgroup. By categorizing variables such as education levels into distinct groups (e.g., "high school graduate," "post-secondary certificate diploma"), the dataset allows for consistent comparisons across demographic segments.

## Outcome variables

### Hourly Wages

The primary outcome variable in this study is the `Average_hourly_wages`, measured in Canadian dollars. This variable reflects the mean earnings of individuals across various demographic and employment categories. The hourly wage data are derived from the Labour Force Survey, which collects self-reported income information and supplements it with employer records where available. These averages are calculated by dividing reported weekly wages by the number of hours worked, standardizing earnings across full-time and part-time workers.

```{r}
#| label: tbl-display-clean-data
#| tbl-cap: "Summary Statistics for Average Hourly Wages in Canada (2000–2019), Including Minimum, Maximum, Mean, Median, and Standard Deviation"
#| echo: false

cleaned_data <- read.csv(here::here("data/02-analysis_data/analysis_data.csv"))

hourly_wage_summary <- cleaned_data %>%
  summarise(
    Min_Wage = min(Average_hourly_wages, na.rm = TRUE),
    Max_Wage = max(Average_hourly_wages, na.rm = TRUE),
    Mean_Wage = mean(Average_hourly_wages, na.rm = TRUE),
    Median_Wage = median(Average_hourly_wages, na.rm = TRUE),
    SD_Wage = sd(Average_hourly_wages, na.rm = TRUE)
  )

hourly_wage_summary %>%
  kable(
    col.names = c("Minimum Wage", "Maximum Wage", "Mean Wage", "Median Wage", "Standard Deviation"),
    digits = 2,
    booktabs = TRUE
  )
```

@tbl-display-clean-data provides an overview of the distribution of average hourly wages in Canada from 2000 to 2019. The wages range from a minimum of \$7.60 to a maximum of \$43.39, with a mean of \$21.48 and a median of \$20.48, indicating that most wages are concentrated around the middle of the distribution, while a smaller proportion of higher earners pushes the maximum upward. The standard deviation of $7.40 reflects notable variability, emphasizing differences in earning potential influenced by factors such as education, gender, and age.

```{r}
#| label: fig-avg-wage
#| fig-cap: "Yearly Trend of Average Hourly Wages in Canada (2000–2019): Steady Growth Reflecting Changes in the Labor Market."
#| echo: false
#| warning: false

cleaned_data %>%
  group_by(Year) %>%
  summarise(Average_Wage = round(mean(Average_hourly_wages, na.rm = TRUE), 2)) %>%
  ggplot(aes(x = Year, y = Average_Wage)) +
  geom_line(color = "darkblue", size = 1) +
  geom_point(color = "lightblue", size = 1.5) +
  geom_label(
    aes(label = Average_Wage),
     nudge_x = 0.25,
    nudge_y = 0.25,
    check_overlap = TRUE,
    size = 1.5
  ) +
  labs(
    x = "Year",
    y = "Average Hourly Wage",
  ) +
  theme_minimal()
```

@fig-avg-wage illustrates the trend of average hourly wages in Canada from 2000 to 2019. Each dot represents the average wage for a specific year, and the overall shows a upward trend. The consistent increase in wages suggests improvements in earnings across the labor market, potentially driven by inflation, economic growth, and changes in workforce composition.

## Predictor variables

### Education

The `Education_level` variable represents individuals' highest level of formal education attained and is categorized into levels ranging from "0-8 years" to "Above bachelor's degree." This variable reflects the influence of educational attainment on earning potential. The data for education levels are self-reported in the Labour Force Survey, capturing a wide range of qualifications, including high school completion, trade certifications, and university degrees.

```{r fig.width=5, fig.height=5}
#| label: fig-education-level
#| fig-cap: "Average hourly wages in Canada by education level from 2000 to 2019. Each box represents the wage distribution for a specific education level, with higher education levels corresponding to higher median wages."
#| echo: false
#| warning: false

cleaned_data %>%
  ggplot(aes(
    x = reorder(Education_level, Average_hourly_wages, median),
    y = Average_hourly_wages,
    fill = reorder(Education_level, Average_hourly_wages, median)
  )) +
  geom_boxplot(color = "black", outlier.color = "red", outlier.size = 1.5) +
  scale_fill_manual(
    values = colorRampPalette(c("mistyrose", "darkred"))(length(unique(cleaned_data$Education_level)))
  ) +
  labs(
    x = "Education Level",
    y = "Average Hourly Wage",
    fill = "Education Level",
  ) +
  theme_minimal() +
  theme(
    legend.position = "none",
    axis.text.x = element_text(angle = 45, hjust = 1, size = 8),
    axis.text.y = element_text(size = 8)
  )
```

@fig-education-level presents the distribution of average hourly wages in Canada from 2000 to 2019 across different education levels. Higher education levels, such as "University degree" and "Above bachelor's degree," are associated with higher median wages, while lower education levels, like "0–8 years," show significantly lower wages. The variability within each education level, shown by the spread of the boxes and whiskers, indicates differences in earning potential within these groups. For instance, individuals with an "Above bachelor's degree" earn higher wages on average and exhibit greater wage variability compared to those with "0–8 years" of education.

### Gender

The `Gender` variable indicates whether an individual identifies as "Male" or "Female". The data are reported as binary classification for simplicity. This variable allows for an investigation of the persistent gender wage gap, capturing differences in average hourly wages for men and women. Including gender in the analysis is essential for highlighting inequalities in the labor market and understanding how these disparities persist across educational levels and age groups.

```{r}
#| label: fig-gender
#| fig-cap: "Average hourly wages in Canada by gender from 2000 to 2019. Each violin plot represents the wage distribution for males and females, with males showing higher median wages and a broader range of earnings compared to females."
#| echo: false
#| warning: false

cleaned_data %>%
  ggplot(aes(x = Gender, y = Average_hourly_wages, fill = Gender)) +
  geom_violin(trim = FALSE, alpha = 0.6) +
  geom_jitter(width = 0.2, size = 1, alpha = 0.7, color = "black") +
  labs(
    x = "Gender",
    y = "Average Hourly Wage",
  ) +
  theme_minimal()
```

@fig-gender compares the distribution of average hourly wages in Canada from 2000 to 2019 by gender. It displays the spread of wages for each gender, with males generally earning higher wages as shown by the broader and higher distribution. The jittered points represent individual wage observations, further emphasizing the overlap and differences in wage ranges. While both distributions have a similar shape, the median wage for males is noticeably higher than that for females, reflecting a persistent gender wage gap over the period analyzed.

### Age

The `Age_group` variable divides individuals into three categories: "15-24 years", "25-54 years", and "55 years and over". These groups represent different career stages, from early employment to peak earning years and late career. The Labour Force Survey provides these classifications to standardize analyses of how wages vary with experience and age. Younger workers generally report lower wages due to limited experience, while mid-career and older workers often earn higher wages, reflecting accumulated skills and knowledge over time.

```{r}
#| label: fig-age
#| fig-cap: "Average hourly wages in Canada by age group from 2000 to 2019. Each curve represents the wage distribution for a specific age group, with older age groups showing higher average wages and broader distributions compared to younger groups."
#| echo: false
#| warning: false

cleaned_data %>%
  ggplot(aes(x = Average_hourly_wages, fill = Age_group)) +
  geom_density(alpha = 0.7, color = "black", size = 0.3) + 
  labs(
    x = "Average Hourly Wage",
    y = "Density",
  ) +
  scale_fill_manual(
    values = c("15-24 years" = "lavender", 
               "25-54 years" = "mediumorchid", 
               "55 years and over" = "purple4")
  ) + 
  theme_minimal()

```

@fig-age illustrates the distribution of average hourly wages in Canada from 2000 to 2019 across three age groups: "15-24 years," "25-54 years," and "55 years and over." The youngest group, "15-24 years," exhibits the lowest wages, with a narrow distribution concentrated at the lower end. In contrast, the "25-54 years" and "55 years and over" groups show higher wages and broader distributions, reflecting greater variability in earnings as individuals gain experience and qualifications. The older age group generally earns the highest wages, highlighting the strong association between age, experience, and earning potential.

# Model {#sec-model}

The objective of our modeling approach is to quantify the relationship between educational attainment and hourly wages. Our analysis employs a Bayesian framework to assess how changes in the level of education correlate with variations in wage rates among Canadian workers aged 25-54.

In our analysis, we utilized a simple linear regression model, a technique well-suited for examining the relationship between a continuous dependent variable and one or more independent variables. Given that our dependent variable, `average hourly wage rate`, is continuous, a normal or Gaussian linear regression model is appropriate. This model assumes that the distribution of the wage rate, given the level of education, follows a normal distribution. This assumption allows for a straightforward interpretation of the parameters and is commonly used in practice. The use of a normal distribution for the error term is a standard choice, as it facilitates the estimation of the model parameters using maximum likelihood estimation. The simplicity and interpretability of this model, coupled with its appropriateness for the data at hand, make it a good fit for our study's objectives.

Background details and diagnostics are included in [Appendix -@sec-model-details].

## Alternative model


## Model set-up

The model predicts hourly wages using the following predictor variables:

- 

The model takes the form:


$$
\begin{aligned}
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \beta_0 +\beta_1x_i\\
\beta_0 &\sim \mbox{Normal}(0, 2.5) \\
\beta_1 &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1) \\
\end{aligned}
$$

The model is executed in \texttt{R} [@citeR] using the \texttt{rstanarm} package [@rstanarm]. Default priors from \texttt{rstanarm} [@rstanarm] are used, with the priors set to have a mean of zero and a moderate standard deviation to ensure a reasonable level of regularization.

## Model justification



# Results {#sec-result}


# Discussion {#sec-discussion}


## Findings


## Insights on Education and Wages


## Limitations and Future Research Directions


\newpage

\appendix

# Appendix {-}

# Census methodology overview and evaluation

# Idealized methodology and survey

# Data Manipulation and Cleaning {#sec-data-cleaning}

During the data cleaning phase, the R packages `tidyverse` [@citetidyverse], `dplyr` [@citedplyr], and `arrow` [@citearrow] were utilized. The raw data was imported using `read_csv` from the `tidyverse` [@citetidyverse] package. Subsequent operations filtered the dataset to focus on Canadian data, both full-time and part-time. Additionally, the focus was placed on records that reported the average hourly wage rate, while entries with ambiguous educational levels such as "Some high school" and aggregate categories like "Total, all education levels" were excluded to maintain data clarity and relevance.

The analysis was specifically targeted at the demographic group aged between 25 and 54 years, as this range represents a prime working-age population. Columns important to the analysis were chosen and renamed for better readability and straightforward reference in subsequent analytical procedures. This process included renaming the columns for the year and average hourly wage rate to 'Year' and 'Avg hourly wage rate' respectively.

Education levels were organized in a logical order ranging from "0 - 8 years" of education to "Above bachelor's degree" using the `factor` function to convert them into a categorical variable with a specified level order. This categorization was further enhanced by creating an accompanying numeric variable that mapped these ordered education levels to integers, thus facilitating quantitative analysis.

The final step involved saving the cleaned and structured data. This was done using the `write_csv` function to generate a CSV file for broad compatibility and the `write_parquet` function from the `arrow` [@citearrow] package for a more compressed and efficient file format, both of which were stored in the `data/analysis_data` directory.

In all figures and tables, the library `here` [@citehere] was used to ensure that the file path should be accessible in all directories.

# Model details {#sec-model-details}

## Posterior predictive check

## Diagnostics


\newpage

# References
